{% extends 'main/base.html' %}
{% block title %}Paramètres{% endblock %}

{% block content %}
<div class="page-header">
  <div class="ph-inner">
    <span class="s-label">Paramètres</span>
    <h1>Configuration des seuils</h1>
    <p>Valeurs de référence utilisées pour les analyses de conformité.</p>
  </div>
</div>

<div class="container">
  <div style="display:grid;grid-template-columns:1fr 1fr;gap:2rem;max-width:900px">

    <!-- RT2012 -->
    <div class="card fade-up" style="overflow:hidden">
      <div style="background:linear-gradient(135deg,var(--navy-3),var(--navy-2));padding:1.5rem 2rem;border-bottom:1px solid rgba(255,255,255,.05)">
        <div style="font-size:.7rem;letter-spacing:.1em;text-transform:uppercase;color:var(--gold);margin-bottom:.3rem">Référentiel</div>
        <h2 style="font-family:'Playfair Display',serif;font-size:1.2rem">RT 2012</h2>
      </div>
      <div style="padding:1.8rem 2rem">
        <div style="display:flex;flex-direction:column;gap:.8rem">
          <div style="display:flex;justify-content:space-between;align-items:center;padding:.6rem .8rem;background:var(--navy-3);border-radius:6px">
            <span style="font-size:.85rem;color:var(--gray-2)">Bbio max</span>
            <span style="font-family:monospace;color:var(--gold);font-size:.9rem">{{ rt2012_req.bbio }}</span>
          </div>
          <div style="display:flex;justify-content:space-between;align-items:center;padding:.6rem .8rem;background:var(--navy-3);border-radius:6px">
            <span style="font-size:.85rem;color:var(--gray-2)">Cep max (kWh/m².an)</span>
            <span style="font-family:monospace;color:var(--gold);font-size:.9rem">{{ rt2012_req.cep }}</span>
          </div>
          <div style="display:flex;justify-content:space-between;align-items:center;padding:.6rem .8rem;background:var(--navy-3);border-radius:6px">
            <span style="font-size:.85rem;color:var(--gray-2)">Tic max (°C)</span>
            <span style="font-family:monospace;color:var(--gold);font-size:.9rem">{{ rt2012_req.tic }}</span>
          </div>
          <div style="display:flex;justify-content:space-between;align-items:center;padding:.6rem .8rem;background:var(--navy-3);border-radius:6px">
            <span style="font-size:.85rem;color:var(--gray-2)">Étanchéité max</span>
            <span style="font-family:monospace;color:var(--gold);font-size:.9rem">{{ rt2012_req.airtightness }}</span>
          </div>
          <div style="display:flex;justify-content:space-between;align-items:center;padding:.6rem .8rem;background:var(--navy-3);border-radius:6px">
            <span style="font-size:.85rem;color:var(--gray-2)">ENR min</span>
            <span style="font-family:monospace;color:var(--gold);font-size:.9rem">{{ rt2012_req.enr }}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- RE2020 -->
    <div class="card fade-up-2" style="overflow:hidden">
      <div style="background:linear-gradient(135deg,var(--navy-3),var(--navy-2));padding:1.5rem 2rem;border-bottom:1px solid rgba(255,255,255,.05)">
        <div style="font-size:.7rem;letter-spacing:.1em;text-transform:uppercase;color:var(--gold);margin-bottom:.3rem">Référentiel</div>
        <h2 style="font-family:'Playfair Display',serif;font-size:1.2rem">RE 2020</h2>
      </div>
      <div style="padding:1.8rem 2rem">
        <form method="post" action="{% url 'update_re2020' %}">
          {% csrf_token %}
          <div style="display:flex;flex-direction:column;gap:.8rem">
            <div style="display:flex;justify-content:space-between;align-items:center;padding:.6rem .8rem;background:var(--navy-3);border-radius:6px">
              <span style="font-size:.85rem;color:var(--gray-2)">Énergie max (Cep)</span>
              <span style="font-family:monospace;color:var(--gold);font-size:.9rem">{{ re2020_req.energy_efficiency }}</span>
            </div>
            <div style="display:flex;justify-content:space-between;align-items:center;padding:.6rem .8rem;background:var(--navy-3);border-radius:6px">
              <span style="font-size:.85rem;color:var(--gray-2)">Confort thermique max</span>
              <span style="font-family:monospace;color:var(--gold);font-size:.9rem">{{ re2020_req.thermal_comfort }}</span>
            </div>
            <div style="display:flex;justify-content:space-between;align-items:center;padding:.6rem .8rem;background:var(--navy-3);border-radius:6px">
              <span style="font-size:.85rem;color:var(--gray-2)">Émissions CO₂ max</span>
              <span style="font-family:monospace;color:var(--gold);font-size:.9rem">{{ re2020_req.carbon_emissions }}</span>
            </div>
            <div style="display:flex;justify-content:space-between;align-items:center;padding:.6rem .8rem;background:var(--navy-3);border-radius:6px">
              <span style="font-size:.85rem;color:var(--gray-2)">Gestion eau max</span>
              <span style="font-family:monospace;color:var(--gold);font-size:.9rem">{{ re2020_req.water_management }}</span>
            </div>
            <div style="display:flex;justify-content:space-between;align-items:center;padding:.6rem .8rem;background:var(--navy-3);border-radius:6px">
              <span style="font-size:.85rem;color:var(--gray-2)">Qualité air max</span>
              <span style="font-family:monospace;color:var(--gold);font-size:.9rem">{{ re2020_req.indoor_air_quality }}</span>
            </div>
          </div>
          <button type="submit" class="btn btn-outline btn-sm" style="margin-top:1.2rem;width:100%;justify-content:center">
            Mettre à jour RE2020
          </button>
        </form>
      </div>
    </div>

  </div>
</div>
{% endblock %}
